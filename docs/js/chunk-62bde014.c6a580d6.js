(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62bde014"],{"265f":function(t,e,r){},3556:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),a.forEach(function(e){n(t,e,r[e])})}return t}r.d(e,"a",function(){return a})},7415:function(t,e,r){"use strict";var n=r("2d2c"),a=r("ea02")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("68fb")(o)},8968:function(t,e,r){"use strict";var n=r("9083"),a=r.n(n);a.a},9083:function(t,e,r){},"990a":function(t,e,r){var n=r("9b6d");t.exports=Array.isArray||function(t){return"Array"==n(t)}},a474:function(t,e,r){"use strict";var n="http://localhost:3000",a="/v1",o="".concat(n,"/api").concat(a),s={blog:{create:"".concat(o,"/article/create"),list:"".concat(o,"/article/list"),delete:"".concat(o,"/article/delete"),detail:"".concat(o,"/article"),update:"".concat(o,"/article/update")},user:{login:"".concat(o,"/user/login"),register:"".concat(o,"/user/register")}};e["a"]=s},c027:function(t,e,r){var n=r("b429"),a=r("990a"),o=r("f3ae")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},c087:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"login-card",attrs:{id:"loginCard"}},[r("v-card-title",[r("span",{staticClass:"headline"},[t._v(t._s(t.cardTitle))])]),r("v-card-text",[r("v-form",{ref:"form",staticClass:"login-form",attrs:{"lazy-validation":""}},[r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},t._l(t.form[t.activeForm],function(e,n){return r("v-flex",{key:n,attrs:{xs12:""}},[r("v-text-field",{attrs:{label:e.label,rules:e.rules,required:e.required,type:e.password?"password":"text"},model:{value:e.value,callback:function(r){t.$set(e,"value",r)},expression:"item.value"}})],1)}),1),r("v-layout",{attrs:{row:"","justify-end":""}},[r("small",[t._v("*表示必填字段")])]),r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-btn",{staticClass:"login-form__submit",attrs:{dark:"",loading:t.isShowLoading,disabled:t.isShowLoading,color:"blue darken-1"},on:{click:t.validate},scopedSlots:t._u([{key:"loader",fn:function(){return[r("span",[t._v("Loading...")])]},proxy:!0}])},[t._v(t._s(t.cardTitle)+"\n            ")])],1)],1)],1)],1),r("v-card-actions",[r("v-layout",{staticClass:"login-card__tip",attrs:{row:"","justify-center":"","align-center":""}},[r("span",{staticClass:"span"},[t._v(t._s(t.jumpText.span)+"有账号？")]),r("v-btn",{staticClass:"login-card__jump",attrs:{flat:"",small:"",color:"blue darken-1"},on:{click:t.switchFormType}},[r("strong",[t._v("立即"+t._s(t.jumpText.btn))])])],1)],1)],1)},a=[],o=(r("7415"),r("3556")),s=r("a474"),i=r("591a"),c={name:"Login",data:function(){return{form:{login:{account:{value:"",label:"Username*",required:!0,rules:[function(t){return!!t||"用户名不能为空！"},function(t){return t&&t.length<=20||"用户名长度不能大于20位！"}]},password:{value:"",label:"Password*",required:!0,password:!0,rules:[function(t){return!!t||"密码不能为空！"},function(t){return t&&t.length>6||"密码不能少于六位！"}]}},register:{account:{value:"Artoria",label:"Username*",required:!0,rules:[function(t){return!!t||"用户名不能为空！"},function(t){return t&&t.length<=20||"用户名长度不能大于20位！"}]},nickname:{value:"骑士王的荣耀",label:"Nickname*",required:!0,rules:[function(t){return!!t||"昵称不能为空！"}]},phone:{value:"",label:"Phone",rules:[function(t){return!t||/^1[34578]\d{9}$/.test(t)||"请输入正确的手机号码！"}]},password:{value:"Artoria314",label:"Password*",required:!0,password:!0,rules:[function(t){return!!t||"密码不能为空！"},function(t){return t&&t.length>6||"密码不能少于六位！"}]}}},activeForm:"login",isShowLoading:!1}},props:{isShowLogin:{type:Boolean,default:!0},isReject:{type:Boolean,default:!1}},watch:{},computed:{cardTitle:function(){return"".concat(this.activeForm[0].toUpperCase()).concat(this.activeForm.slice(1))},jumpText:function(){return{span:"login"===this.activeForm?"还没":"已",btn:"login"===this.activeForm?"注册":"登录"}}},methods:Object(o["a"])({validate:function(){this.$refs.form.validate()&&this[this.activeForm]()},login:function(){var t=this,e=this.form[this.activeForm],r=e.account,n=e.password;this.$http.post("".concat(s["a"].user.login),{account:r.value,password:n.value}).then(function(e){var r=e.data;200===r.code?t.formatUserInfo(r.data):t.$message(r.message,"error")},function(e){console.log(e),t.$message()})},formatUserInfo:function(t){this.setToken(t.token),this.setUserInfo(t),localStorage.setItem("token",t.token),localStorage.setItem("userInfo",JSON.stringify(t)),this.isReject&&this.$router.push(this.$route.query.reject_url)},register:function(){var t=this,e=this.form[this.activeForm],r=e.account,n=e.password,a=e.nickname,o=e.phone;this.$http.post("".concat(s["a"].user.register),{account:r.value,password:n.value,nickname:a.value,phone:o.value,avatar:""}).then(function(e){var r=e.data;1===r.code?(t.$message("注册成功！","success"),t.formatUserInfo(r.data)):t.$message(r.message)},function(e){console.log(e),t.$message()})},switchFormType:function(){var t=this;this.activeForm=["register","login"].find(function(e){return e!==t.activeForm})}},Object(i["b"])(["setToken","setUserInfo"]))},u=c,l=(r("8968"),r("17cc")),f=Object(l["a"])(u,n,a,!1,null,null,null);e["a"]=f.exports},cecc:function(t,e,r){var n=r("c027");t.exports=function(t,e){return new(n(t))(e)}},dc3f:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"login"}},[r("v-content",{staticClass:"login-content"},[r("v-layout",{attrs:{row:"",wrap:"","fill-height":"","align-center":"","justify-center":""}},[r("login-card",{attrs:{"is-reject":!0}})],1)],1)],1)},a=[],o=r("c087"),s={components:{loginCard:o["a"]}},i=s,c=(r("e330"),r("17cc")),u=Object(c["a"])(i,n,a,!1,null,null,null);e["default"]=u.exports},e330:function(t,e,r){"use strict";var n=r("265f"),a=r.n(n);a.a},ea02:function(t,e,r){var n=r("0709"),a=r("240e"),o=r("aa91"),s=r("33f2"),i=r("cecc");t.exports=function(t,e){var r=1==t,c=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f,v=e||i;return function(e,i,p){for(var g,m,h=o(e),b=a(h),w=n(i,p,3),y=s(b.length),_=0,j=r?v(e,y):c?v(e,0):void 0;y>_;_++)if((d||_ in b)&&(g=b[_],m=w(g,_,h),t))if(r)j[_]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:j.push(g)}else if(l)return!1;return f?-1:u||l?l:j}}}}]);
//# sourceMappingURL=chunk-62bde014.c6a580d6.js.map